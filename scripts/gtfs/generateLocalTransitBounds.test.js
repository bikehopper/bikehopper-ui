import { expect, test } from 'vitest';

// to genreate run...
// time node scripts/gtfs/generateLocalTransitBounds.js
// node scripts/gtfs/generateLocalTransitBounds.js  12.27s user 1.21s system 115% cpu 11.635 total
// node scripts/gtfs/generateLocalTransitBounds.js  12.05s user 1.01s system 118% cpu 10.999 total

const recievedValue = {"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-122.93471732036177,38.06572111874179],[-122.59285533781238,37.4890861726705],[-122.58291772273466,37.4759928225403],[-122.49887909994162,37.387733857311396],[-122.48857710040275,37.37861709322919],[-122.47648955873545,37.371010960094786],[-121.62133792277425,36.914969817168696],[-121.60580503997073,36.908241179430284],[-121.58893556928105,36.90405118746149],[-121.57137071203525,36.90255905266833],[-121.55377787270527,36.90382146421001],[-121.53682550804021,36.90779045369978],[-121.52115793818635,36.91431520305865],[-121.50737103756063,36.9231477295983],[-121.4959896956237,36.93395224088678],[-121.47437166974218,36.95908245738614],[-121.467026285204,36.96931255841722],[-121.46185659390649,36.980360013252564],[-121.17563276006794,37.77798650480414],[-121.17363054154386,37.78469240112745],[-120.86108711938229,39.0863474869417],[-120.85945018496686,39.100182743480566],[-120.8612504021048,39.1140055464322],[-120.86642335684097,39.127306212003816],[-120.87478002369626,39.13959403228156],[-120.88601348983623,39.150415424137876],[-120.89971010172565,39.15937074068008],[-120.9153646481727,39.16612911220747],[-120.9323990299848,39.170440753616624],[-120.9501837214688,39.17214626827701],[-120.96806121051888,39.17118259122452],[-123.03995820531394,38.8834370656558],[-123.05741296231649,38.87943803868579],[-123.07352967600286,38.872866471494675],[-123.08768969610871,38.86397480722394],[-123.0993500858064,38.853104499821505],[-123.10806448723584,38.84067281179504],[-123.1096838587863,38.837703021983565],[-123.1145693908244,38.826109535661956],[-123.11688372350608,38.81404121019983],[-123.14599225631085,38.45791955755548],[-123.14470962353191,38.44046231346999],[-123.1381198199319,38.42375531196918],[-122.93554272884,38.06714069968552],[-122.93471732036177,38.06572111874179]]]}}

const expectedValue = {"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-122.93471732036177,38.06572111874179],[-122.59285533781238,37.4890861726705],[-122.58291772273466,37.4759928225403],[-122.49887909994162,37.387733857311396],[-122.48857710040275,37.37861709322919],[-122.47648955873545,37.371010960094786],[-121.62133792277425,36.914969817168696],[-121.60580503997073,36.908241179430284],[-121.58893556928105,36.90405118746149],[-121.57137071203525,36.90255905266833],[-121.55377787270527,36.90382146421001],[-121.53682550804021,36.90779045369978],[-121.52115793818635,36.91431520305865],[-121.50737103756063,36.9231477295983],[-121.4959896956237,36.93395224088678],[-121.47437166974218,36.95908245738614],[-121.467026285204,36.96931255841722],[-121.46185659390649,36.980360013252564],[-121.17563276006794,37.77798650480414],[-121.17363054154386,37.78469240112745],[-120.86108711938229,39.0863474869417],[-120.85945018496686,39.100182743480566],[-120.8612504021048,39.1140055464322],[-120.86642335684097,39.127306212003816],[-120.87478002369626,39.13959403228156],[-120.88601348983623,39.150415424137876],[-120.89971010172565,39.15937074068008],[-120.9153646481727,39.16612911220747],[-120.9323990299848,39.170440753616624],[-120.9501837214688,39.17214626827701],[-120.96806121051888,39.17118259122452],[-123.03995820531394,38.8834370656558],[-123.05741296231649,38.87943803868579],[-123.07352967600286,38.872866471494675],[-123.08768969610871,38.86397480722394],[-123.0993500858064,38.853104499821505],[-123.10806448723584,38.84067281179504],[-123.1096838587863,38.837703021983565],[-123.1145693908244,38.826109535661956],[-123.11688372350608,38.81404121019983],[-123.14599225631085,38.45791955755548],[-123.14470962353191,38.44046231346999],[-123.1381198199319,38.42375531196918],[-122.93554272884,38.06714069968552],[-122.93471732036177,38.06572111874179]]]}}

test('generateLocalTransitBounds script output', () => {
  expect(recievedValue).toStrictEqual(expectedValue);
});
