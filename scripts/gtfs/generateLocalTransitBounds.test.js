import { expect, test } from 'vitest';

// to genreate run...
// time node scripts/gtfs/generateLocalTransitBounds.js
// node scripts/gtfs/generateLocalTransitBounds.js  12.27s user 1.21s system 115% cpu 11.635 total
// node scripts/gtfs/generateLocalTransitBounds.js  12.05s user 1.01s system 118% cpu 10.999 total

const recievedValue = {"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-122.93471760205195,38.065721784671595],[-122.59285510427543,37.48908561527448],[-122.58291805971557,37.475993234839045],[-122.49887924564524,37.38773410463614],[-122.48857767021947,37.37861767053766],[-122.47649072562007,37.37101169233016],[-121.621337024145,36.91497029221794],[-121.60580374092312,36.90824178648343],[-121.58893392405673,36.90405190246655],[-121.57136878908784,36.902559845504015],[-121.55377575109655,36.90382229924834],[-121.53682327312238,36.90779129093537],[-121.52115567693065,36.914315999843794],[-121.50736883393427,36.9231484429335],[-121.4959876264101,36.93395283012388],[-121.47436967575787,36.95908305703044],[-121.46662034006884,36.97000962600513],[-121.46135039540118,36.98184204853113],[-121.45871961968422,36.99422424901797],[-121.45880852246121,37.00678342951306],[-121.59670660226617,38.175760370603264],[-121.6003994263879,38.19032686500755],[-121.60780049118786,38.20399351195992],[-121.618599623542,38.21618391062026],[-121.86729362839289,38.442115249658535],[-121.87800768374161,38.450347228754815],[-121.881027386736,38.4523167243367],[-121.8987706990004,38.46140691867669],[-122.97453187976014,38.87595869043024],[-122.99225160241592,38.88100807962653],[-122.9997008547466,38.88248313039368],[-123.01828155307162,38.88463559577307],[-123.03703853375399,38.88383326829288],[-123.05520357589064,38.88010901568147],[-123.07203291771847,38.87361536158985],[-123.08683795031405,38.8646181853924],[-123.09901355979517,38.85348574992292],[-123.10806292457399,38.84067352397222],[-123.10968230441104,38.83770373283064],[-123.11456799998189,38.82610999268759],[-123.11688250185543,38.814041391120476],[-123.14599162581469,38.457919180047575],[-123.14470894554154,38.44046192311938],[-123.13811930092072,38.423754904819326],[-122.93554193618901,38.06713953176793],[-122.93471760205195,38.065721784671595]]]}}

const expectedValue = {"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-122.93471732036177,38.06572111874179],[-122.59285533781238,37.4890861726705],[-122.58291772273466,37.4759928225403],[-122.49887909994162,37.387733857311396],[-122.48857710040275,37.37861709322919],[-122.47648955873545,37.371010960094786],[-121.62133792277425,36.914969817168696],[-121.60580503997073,36.908241179430284],[-121.58893556928105,36.90405118746149],[-121.57137071203525,36.90255905266833],[-121.55377787270527,36.90382146421001],[-121.53682550804021,36.90779045369978],[-121.52115793818635,36.91431520305865],[-121.50737103756063,36.9231477295983],[-121.4959896956237,36.93395224088678],[-121.47437166974218,36.95908245738614],[-121.467026285204,36.96931255841722],[-121.46185659390649,36.980360013252564],[-121.17563276006794,37.77798650480414],[-121.17363054154386,37.78469240112745],[-120.86108711938229,39.0863474869417],[-120.85945018496686,39.100182743480566],[-120.8612504021048,39.1140055464322],[-120.86642335684097,39.127306212003816],[-120.87478002369626,39.13959403228156],[-120.88601348983623,39.150415424137876],[-120.89971010172565,39.15937074068008],[-120.9153646481727,39.16612911220747],[-120.9323990299848,39.170440753616624],[-120.9501837214688,39.17214626827701],[-120.96806121051888,39.17118259122452],[-123.03995820531394,38.8834370656558],[-123.05741296231649,38.87943803868579],[-123.07352967600286,38.872866471494675],[-123.08768969610871,38.86397480722394],[-123.0993500858064,38.853104499821505],[-123.10806448723584,38.84067281179504],[-123.1096838587863,38.837703021983565],[-123.1145693908244,38.826109535661956],[-123.11688372350608,38.81404121019983],[-123.14599225631085,38.45791955755548],[-123.14470962353191,38.44046231346999],[-123.1381198199319,38.42375531196918],[-122.93554272884,38.06714069968552],[-122.93471732036177,38.06572111874179]]]}}

test('generateLocalTransitBounds script output', () => {
  expect(recievedValue).toStrictEqual(expectedValue);
});
